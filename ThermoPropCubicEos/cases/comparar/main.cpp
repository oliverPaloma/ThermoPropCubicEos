#include "../../ThermoPropCubicEos.hpp"

int main() {
auto T = 350.; // Isoterma com temperatura constante

auto databasePath = "/home/paloma/Documentos/ThermoPropCubicEos/database/test.yml";

auto components = "CO2 C1"; // Componentes
std::vector<double> Tc, Pc, omega;

//auto EoSModel = CubicEOSModel::PengRobinson; // PR escolhido
 //auto EoSModel = CubicEOSModel::VanDerWaals; // vdW escolhido
 auto EoSModel = CubicEOSModel::SoaveRedlichKwong;  //srk escolhido

//std::vector<double> z{0.5,0.5}; // Fração molar para mistura
//std::vector<double> z{0.95,0.05}; //95% CO2
std::vector<double> z{0.05,0.95}; 
auto ncomp=z.size();
read_database(Tc, Pc, omega, databasePath, components);
//srk 350 co2
std::vector<double> V = {0.0290622474,0.0115785501,0.0072187435,0.0052385441,0.0041074712,0.0033758102,0.0028637658,0.0024853763,0.0021943649,0.0019636081,0.0017761562,0.0016208715,0.0014901344,0.0013785557,0.0012822162,0.0011981975,0.0011242816,0.0010587529,0.0010002635,0.0009477395,0.0009003150,0.0008572839,0.0008180649,0.0007821746,0.0007492084,0.0007188245,0.0006907324,0.0006646837,0.0006404646,0.0006178901,0.0005967994,0.0005770519,0.0005585244,0.0005411082,0.0005247071,0.0005092359,0.0004946184,0.0004807867,0.0004676799,0.0004552432,0.0004434272,0.0004321872,0.0004214827,0.0004112770,0.0004015367,0.0003922311,0.0003833323,0.0003748148,0.0003666550,0.0003588314,0.0003513241,0.0003441147,0.0003371863,0.0003305231,0.0003241107,0.0003179355,0.0003119850,0.0003062474,0.0003007119,0.0002953684,0.0002902073,0.0002852198,0.0002803976,0.0002757329,0.0002712183,0.0002668470,0.0002626125,0.0002585089,0.0002545303,0.0002506714,0.0002469270,0.0002432924,0.0002397631,0.0002363347,0.0002330032,0.0002297647,0.0002266155,0.0002235523,0.0002205717,0.0002176705,0.0002148459,0.0002120950,0.0002094151,0.0002068036,0.0002042582,0.0002017764,0.0001993560,0.0001969950,0.0001946913,0.0001924430,0.0001902482,0.0001881052,0.0001860122,0.0001839676,0.0001819699,0.0001800176,0.0001781093,0.0001762436,0.0001744191,0.0001726347};

/*
if (V.size() != 100) {
    std::cerr << "Erro: O vetor V deve conter exatamente 100 valores.\\n";
    return 1;
}
*/
calculateIsotermaComp(EoSModel, Tc, Pc, omega, T, V, z, ncomp); //utiliza regra de mistura
return 0;
}
/**/
